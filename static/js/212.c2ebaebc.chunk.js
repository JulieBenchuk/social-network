"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[212],{1212:function(s,e,o){o.r(e),o.d(e,{default:function(){return Ss}});var t=o(8683),n=o(5671),i=o(3144),a=o(136),r=o(5716),l=o(2791),c=o(885),u=o(5987),d="ProfileInfo_profile__XM2oU",f="ProfileInfo_profileInfoBlock__ZTFU2",h=o(2902),p="ProfileData_profile_data__9qsUa",_="ProfileData_description__QBhvE",j="ProfileData_descriptionItem__xMqvG",m="ProfileData_edit__tP1nd",v="ProfileData_descriptionIcon__YzH8V",x="Contact_contact__iBnrC",P="Contact_title__ZKO0l",w="Contact_noValue__GUg0l",N="Contact_value__przRR",g=o(184),k=function(s){var e=s.contactTitle,o=s.contactValue;return(0,g.jsxs)("div",{className:x,children:[(0,g.jsxs)("span",{className:P,children:[e,":"]}),(0,g.jsx)("span",{className:N,children:o||(0,g.jsx)("span",{className:w,children:"no info"})})]})},b=o(9806),S=o(6850),C=o(1632),D=function(s){var e=s.profile,o=s.isOwner,t=s.setEditMode;return(0,g.jsxs)("div",{className:p,children:[(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)("h2",{children:e.fullName}),(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)(b.G,{icon:S.dLO,className:v}),(0,g.jsx)("b",{children:" About me: "}),e.aboutMe?e.aboutMe:"description is empty"]}),(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)(b.G,{icon:C.Y$T,className:v}),(0,g.jsx)("b",{children:" Looking for a job: "}),e.lookingForAJob?"yes":"no"]}),(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)(b.G,{icon:S.fV7,className:v}),(0,g.jsx)("b",{children:" My skills: : "}),e.lookingForAJobDescription?e.lookingForAJobDescription:"description is empty"]}),(0,g.jsxs)("div",{className:j,children:[(0,g.jsx)(b.G,{icon:C.nNP,className:v}),(0,g.jsx)("b",{children:" Contacts: "}),e.contacts&&Object.keys(e.contacts).map((function(s){return(0,g.jsx)(k,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]}),o&&(0,g.jsx)("div",{className:m,children:(0,g.jsxs)("button",{onClick:t,children:[(0,g.jsx)(b.G,{icon:C.IwR,className:v})," Edit profile"]})})]})},A=o(6139),I=o(704),y=o(8195),Z="ProfileDataForm_error__DYUqN",M="ProfileDataForm_profileDataForm__d4e88",G="ProfileDataForm_dataItem__G17JM",O="ProfileDataForm_checkbox__DO0Uc",F="ProfileDataForm_contacts__xd39g",U=(0,I.Z)({form:"edit_profile"})((function(s){var e=s.handleSubmit,o=s.initialValues,t=s.error;return(0,g.jsx)("div",{className:M,children:(0,g.jsxs)("form",{onSubmit:e,children:[(0,g.jsxs)("div",{className:G,children:[(0,g.jsx)(b.G,{icon:C.xKL}),(0,g.jsx)("b",{children:" Full name: "}),(0,g.jsx)(A.Z,{placeholder:"full name",name:"fullName",component:y.I})]}),(0,g.jsxs)("div",{className:G,children:[(0,g.jsx)(b.G,{icon:S.dLO}),(0,g.jsx)("b",{children:" About me: "}),(0,g.jsx)(A.Z,{placeholder:"about me",name:"aboutMe",component:y.g})]}),(0,g.jsxs)("div",{className:G,children:[(0,g.jsx)(b.G,{icon:C.Y$T}),(0,g.jsx)("b",{children:" Looking for a job: "}),(0,g.jsx)(A.Z,{name:"lookingForAJob",component:y.I,type:"checkbox",className:O})]}),(0,g.jsxs)("div",{className:G,children:[(0,g.jsx)(b.G,{icon:S.fV7}),(0,g.jsx)("b",{children:" My skills: "}),(0,g.jsx)(A.Z,{placeholder:"my skills",name:"lookingForAJobDescription",component:y.g})]}),(0,g.jsxs)("div",{className:G,children:[(0,g.jsx)(b.G,{icon:C.nNP}),(0,g.jsx)("b",{children:" Contacts: "}),(0,g.jsx)("div",{className:F,children:o.contacts&&Object.keys(o.contacts).map((function(s){return(0,g.jsxs)("div",{children:[(0,g.jsxs)("b",{children:[s,":"]}),(0,g.jsx)(A.Z,{placeholder:s,name:"contacts."+s,component:y.I}),t&&(0,g.jsx)("div",{className:Z,children:t})]},s)}))})]}),(0,g.jsx)("div",{children:(0,g.jsxs)("button",{children:[(0,g.jsx)(b.G,{icon:C.r6l})," Save"]})})]})})})),W="ModalWindow_modal__8fgAO",B="ModalWindow_modalActive__wdv4Z",T="ModalWindow_modalContent__2aWDg",R="ModalWindow_modalContentActive__Cnauk",z="ModalWindow_modalBlock__zz6+e",E="ModalWindow_buttonsBlock__7vIth",V=function(s){var e=s.active,o=s.setActive,t=s.answerReject,n=s.answerAgree,i=s.question,a=s.agree,r=s.reject;return(0,g.jsx)("div",{className:e?"".concat(W," ").concat(B):W,onClick:function(){return o(!1)},children:(0,g.jsx)("div",{className:e?"".concat(T," ").concat(R):T,onClick:function(s){return s.stopPropagation()},children:(0,g.jsxs)("div",{className:z,children:[(0,g.jsx)("h3",{children:i}),(0,g.jsxs)("div",{className:E,children:[(0,g.jsx)("div",{children:(0,g.jsx)("button",{onClick:function(){a()},children:n})}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{onClick:function(){r()},children:t})})]})]})})})},L="ProfileAvatar_avatarBlock__KMlFi",J="ProfileAvatar_profile_avatar__89Ao1",Y="ProfileAvatar_onlineStatus__cFZkT",q="ProfileAvatar_followingStatus__QKjJB",$="ProfileAvatar_unfollowingStatus__ad7WL",K=o(1605),H="ProfileStatus_status_span__WSn2u",Q="ProfileStatus_status_input__57nHd",X="ProfileStatus_statusIcon__WSEWt",ss=function(s){var e=s.status,o=s.updateStatus,t=s.isOwner,n=(0,l.useState)(!1),i=(0,c.Z)(n,2),a=i[0],r=i[1],u=(0,l.useState)(e),d=(0,c.Z)(u,2),f=d[0],h=d[1];return(0,l.useEffect)((function(){h(e)}),[e]),(0,g.jsxs)("h3",{children:[!a&&(0,g.jsx)("div",{children:(0,g.jsxs)("span",{className:H,onDoubleClick:function(){if(!t)return!1;r(!0)},children:[(0,g.jsx)(b.G,{icon:S.Mzg,className:X}),e?" "+e:" no status"]})}),a&&(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:Q,onChange:function(s){h(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),o(f)},placeholder:"status",value:f})})]})},es=function(s){var e;return(0,g.jsx)("div",{className:L,children:(0,g.jsxs)("div",{className:J,children:[(0,g.jsx)("img",{src:null!==(e=s.photos)&&void 0!==e&&e.large?s.photos.large:K,alt:"avatar"}),(0,g.jsx)("div",{className:Y,children:"online"}),s.owner&&(0,g.jsx)("input",{id:"upload",type:"file",accept:"image/*",onChange:s.onChange}),!s.owner&&(0,g.jsxs)("div",{className:s.followed?q:"".concat(q," ").concat($),onClick:s.onClick,children:[s.followed?(0,g.jsx)(b.G,{icon:C.kRQ}):(0,g.jsx)(b.G,{icon:C.am0}),s.followed?"following":"unfollowing"]}),(0,g.jsx)(ss,{status:s.status,updateStatus:s.updateStatus,isOwner:s.owner})]})})},os=["profile","updateStatus","status","isOwner","saveSelectedPhoto","saveProfile","users","unfollow","follow"],ts=function(s){var e,o=s.profile,t=s.updateStatus,n=s.status,i=s.isOwner,a=s.saveSelectedPhoto,r=s.saveProfile,p=s.users,_=s.unfollow,j=s.follow,m=((0,u.Z)(s,os),(0,l.useState)(!1)),v=(0,c.Z)(m,2),x=v[0],P=v[1],w=(0,l.useState)(!1),N=(0,c.Z)(w,2),k=N[0],b=N[1],S=null===(e=p.find((function(s){return s.id===o.userId})))||void 0===e?void 0:e.followed;if(!o)return(0,g.jsx)(h.p,{});var C=function(s){b(s)};return(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)(es,{photos:o.photos,owner:i,onChange:function(s){s.target.files&&s.target.files.length&&a(s.target.files[0])},followed:S,onClick:function(){return C(!0)},status:n,updateStatus:t}),(0,g.jsx)("div",{className:f,children:x?(0,g.jsx)(U,{onSubmit:function(s){r(s),P(!1)},initialValues:o}):(0,g.jsx)(D,{profile:o,isOwner:i,setEditMode:function(){return P(!0)}})}),k&&(0,g.jsx)(V,{active:k,setActive:C,question:"Do you want to ".concat(S?"unfollow":"follow"," ").concat(o.fullName,"?"),answerAgree:"YES, I want",answerReject:"NO, thanks",agree:function(){S?(o.userId&&_(o.userId),b(!1)):(o.userId&&j(o.userId),b(!1))},reject:function(){b(!1)}})]})},ns=o(4136),is="MyPosts_postsBlock__lB-pf",as="MyPosts_myPostsHeader__Tner+",rs="MyPosts_textArea_Button__PXBSb",ls="Post_post__wW6-Y",cs="Post_postStyle__RX8XC",us="Post_avatarOfPost__Y5UhE",ds="Post_likeCount__kwfc5",fs=function(s){var e=s.id,o=s.post,t=s.likeCount,n=s.onLikePost,i=s.avatar;return(0,g.jsx)("div",{className:ls,children:(0,g.jsxs)("div",{className:us,children:[(0,g.jsx)("img",{src:i||K}),(0,g.jsx)("div",{className:cs,children:o}),(0,g.jsxs)("div",{className:ds,onClick:function(){n(e,t)},children:[(0,g.jsx)(b.G,{icon:C.m6i})," ",t]})]})})},hs=o(3079),ps=["addPost","posts","likePost","profilePhoto"],_s=(0,hs.D)(30),js=(0,I.Z)({form:"ProfileAddNewPostFormRedux"})((function(s){return(0,g.jsxs)("form",{className:rs,onSubmit:s.handleSubmit,children:[(0,g.jsx)("div",{children:(0,g.jsx)(A.Z,{component:y.g,name:"newPostText",placeholder:"What's new?",validate:[hs.C,_s]})}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{children:"Add post"})})]})})),ms=o(8687),vs=(0,ms.$j)((function(s){var e;return{posts:s.profilePage.posts,profilePhoto:null===(e=s.profilePage.profile.photos)||void 0===e?void 0:e.large}}),(function(s){return{addPost:function(e){s((0,ns.Pi)(e))},likePost:function(e,o){s((0,ns.T9)(e,o))}}}))((function(s){var e=s.addPost,o=s.posts,t=s.likePost,n=s.profilePhoto,i=((0,u.Z)(s,ps),o.map((function(s,e){return(0,g.jsx)(fs,{id:s.id,post:s.post,avatar:n,likeCount:s.likeCount,onLikePost:function(){return e=s.id,o=s.likeCount+1,void t(e,o);var e,o}},e)})));return(0,g.jsxs)("div",{className:is,children:[(0,g.jsx)("h3",{className:as,children:"Posts"}),(0,g.jsx)(js,{onSubmit:function(s){e(s.newPostText)}}),i]})})),xs="Profile_profile__VHbzQ",Ps=function(s){var e=s.userID,o=s.profile,t=s.status,n=s.updateStatus,i=s.isOwner,a=s.saveSelectedPhoto,r=s.saveProfile,l=s.users,c=s.unfollow,u=s.follow;return(0,g.jsxs)("div",{className:xs,children:[(0,g.jsx)(ts,{profile:o,status:t,updateStatus:n,isOwner:i,saveSelectedPhoto:a,saveProfile:r,userID:e,users:l,unfollow:c,follow:u}),(0,g.jsx)(vs,{})]})},ws=o(9271),Ns=o(2932),gs=o(7781),ks=o(6342),bs=function(s){(0,a.Z)(o,s);var e=(0,r.Z)(o);function o(){var s;(0,n.Z)(this,o);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(s=e.call.apply(e,[this].concat(i))).follow=function(e){s.props.follow(e)},s.unfollow=function(e){s.props.unfollow(e)},s}return(0,i.Z)(o,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userID;s||(s=this.props.authorizedUserID)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,o){var t,n;this.props.match.params.userID===s.match.params.userID&&(null===(t=this.props.profile.photos)||void 0===t?void 0:t.large)===(null===(n=s.profile.photos)||void 0===n?void 0:n.large)||this.refreshProfile()}},{key:"render",value:function(){return(0,g.jsx)(Ps,(0,t.Z)((0,t.Z)({},this.props),{},{userID:this.props.authorizedUserID,isOwner:!this.props.match.params.userID,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveSelectedPhoto:this.props.saveSelectedPhoto,users:this.props.users,unfollow:this.unfollow,follow:this.follow}))}}]),o}(l.Component),Ss=(0,gs.qC)((0,ms.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,isAuth:s.auth.isAuth,authorizedUserID:s.auth.id,users:s.usersPage.users}}),{getUserProfile:ns.d$,getUserStatus:ns.GP,updateStatus:ns.OG,saveSelectedPhoto:ns.CR,saveProfile:ns.Ms,follow:ks.iR,unfollow:ks.Ky}),ws.EN,Ns.D)(bs)},2932:function(s,e,o){o.d(e,{D:function(){return u}});var t=o(8683),n=o(5987),i=(o(2791),o(9271)),a=o(8687),r=o(184),l=["isAuth"],c=function(s){return{isAuth:s.auth.isAuth}};function u(s){return(0,a.$j)(c)((function(e){var o=e.isAuth,a=(0,n.Z)(e,l);return o?(0,r.jsx)(s,(0,t.Z)({},a)):(0,r.jsx)(i.l_,{to:"/login"})}))}},1605:function(s,e,o){s.exports=o.p+"static/media/avatar_default.2ca07d6b63661cd127d5.webp"}}]);
//# sourceMappingURL=212.c2ebaebc.chunk.js.map
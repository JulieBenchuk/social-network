"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[218],{5218:function(s,e,t){t.r(e),t.d(e,{default:function(){return bs}});var o=t(8683),n=t(5671),i=t(3144),a=t(136),r=t(5716),l=t(2791),c=t(885),u="ProfileInfo_profile__XM2oU",d="ProfileInfo_avatarBlock__igx2X",f="ProfileInfo_profile_avatar__VJNQY",h="ProfileInfo_onlineStatus__o2VeF",p="ProfileInfo_followingStatus__sl0TA",_="ProfileInfo_unfollowingStatus__gft9Z",m="ProfileInfo_profileInfoBlock__ZTFU2",x=t(2902),j="ProfileStatus_status_span__zHK1n",v="ProfileStatus_status_input__bTamG",w="ProfileStatus_statusIcon__JxeCH",P=t(9806),g=t(6850),N=t(184),b=function(s){var e=s.status,t=s.updateStatus,o=s.isOwner,n=(0,l.useState)(!1),i=(0,c.Z)(n,2),a=i[0],r=i[1],u=(0,l.useState)(e),d=(0,c.Z)(u,2),f=d[0],h=d[1];return(0,l.useEffect)((function(){h(e)}),[e]),(0,N.jsxs)("h3",{children:[!a&&(0,N.jsx)("div",{children:(0,N.jsxs)("span",{className:j,onDoubleClick:function(){if(!o)return!1;r(!0)},children:[(0,N.jsx)(P.G,{icon:g.Mzg,className:w}),e?" "+e:" no status"]})}),a&&(0,N.jsx)("div",{children:(0,N.jsx)("input",{className:v,onChange:function(s){h(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t(f)},placeholder:"status",value:f})})]})},k=t(1605),S="ProfileData_profile_data__9qsUa",D="ProfileData_description__QBhvE",I="ProfileData_descriptionItem__xMqvG",C="ProfileData_edit__tP1nd",y="ProfileData_descriptionIcon__YzH8V",A="Contact_contact__iBnrC",Z="Contact_title__ZKO0l",M="Contact_noValue__GUg0l",G="Contact_value__przRR",O=function(s){var e=s.contactTitle,t=s.contactValue;return(0,N.jsxs)("div",{className:A,children:[(0,N.jsxs)("span",{className:Z,children:[e,":"]}),(0,N.jsx)("span",{className:G,children:t||(0,N.jsx)("span",{className:M,children:"no info"})})]})},F=t(1632),U=function(s){var e=s.profile,t=s.isOwner,o=s.setEditMode;return(0,N.jsxs)("div",{className:S,children:[(0,N.jsxs)("div",{className:D,children:[(0,N.jsx)("h2",{children:e.fullName}),(0,N.jsxs)("div",{className:I,children:[(0,N.jsx)(P.G,{icon:g.dLO,className:y}),(0,N.jsx)("b",{children:" About me: "}),e.aboutMe?e.aboutMe:"description is empty"]}),(0,N.jsxs)("div",{className:I,children:[(0,N.jsx)(P.G,{icon:F.Y$T,className:y}),(0,N.jsx)("b",{children:" Looking for a job: "}),e.lookingForAJob?"yes":"no"]}),(0,N.jsxs)("div",{className:I,children:[(0,N.jsx)(P.G,{icon:g.fV7,className:y}),(0,N.jsx)("b",{children:" My skills: : "}),e.lookingForAJobDescription?e.lookingForAJobDescription:"description is empty"]}),(0,N.jsxs)("div",{className:I,children:[(0,N.jsx)(P.G,{icon:F.nNP,className:y}),(0,N.jsx)("b",{children:" Contacts: "}),e.contacts&&Object.keys(e.contacts).map((function(s){return(0,N.jsx)(O,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]}),t&&(0,N.jsx)("div",{className:C,children:(0,N.jsxs)("button",{onClick:o,children:[(0,N.jsx)(P.G,{icon:F.IwR,className:y})," Edit profile"]})})]})},z=t(6139),B=t(704),T=t(8195),V="ProfileDataForm_error__DYUqN",R="ProfileDataForm_profileDataForm__d4e88",W="ProfileDataForm_dataItem__G17JM",E="ProfileDataForm_checkbox__DO0Uc",J="ProfileDataForm_contacts__xd39g",Y=(0,B.Z)({form:"edit_profile"})((function(s){var e=s.handleSubmit,t=s.initialValues,o=s.error;return(0,N.jsx)("div",{className:R,children:(0,N.jsxs)("form",{onSubmit:e,children:[(0,N.jsxs)("div",{className:W,children:[(0,N.jsx)(P.G,{icon:F.xKL}),(0,N.jsx)("b",{children:" Full name: "}),(0,N.jsx)(z.Z,{placeholder:"full name",name:"fullName",component:T.I})]}),(0,N.jsxs)("div",{className:W,children:[(0,N.jsx)(P.G,{icon:g.dLO}),(0,N.jsx)("b",{children:" About me: "}),(0,N.jsx)(z.Z,{placeholder:"about me",name:"aboutMe",component:T.g})]}),(0,N.jsxs)("div",{className:W,children:[(0,N.jsx)(P.G,{icon:F.Y$T}),(0,N.jsx)("b",{children:" Looking for a job: "}),(0,N.jsx)(z.Z,{name:"lookingForAJob",component:T.I,type:"checkbox",className:E})]}),(0,N.jsxs)("div",{className:W,children:[(0,N.jsx)(P.G,{icon:g.fV7}),(0,N.jsx)("b",{children:" My skills: "}),(0,N.jsx)(z.Z,{placeholder:"my skills",name:"lookingForAJobDescription",component:T.g})]}),(0,N.jsxs)("div",{className:W,children:[(0,N.jsx)(P.G,{icon:F.nNP}),(0,N.jsx)("b",{children:" Contacts: "}),(0,N.jsx)("div",{className:J,children:t.contacts&&Object.keys(t.contacts).map((function(s){return(0,N.jsxs)("div",{children:[(0,N.jsxs)("b",{children:[s,":"]}),(0,N.jsx)(z.Z,{placeholder:s,name:"contacts."+s,component:T.I}),o&&(0,N.jsx)("div",{className:V,children:o})]},s)}))})]}),(0,N.jsx)("div",{children:(0,N.jsxs)("button",{children:[(0,N.jsx)(P.G,{icon:F.r6l})," Save"]})})]})})})),q="ModalWindow_modal__8fgAO",$="ModalWindow_modalActive__wdv4Z",H="ModalWindow_modalContent__2aWDg",L="ModalWindow_modalContentActive__Cnauk",X="ModalWindow_modalBlock__zz6+e",K="ModalWindow_buttonsBlock__7vIth",Q=function(s){var e=s.active,t=s.setActive,o=s.answerReject,n=s.answerAgree,i=s.question,a=s.agree,r=s.reject;return(0,N.jsx)("div",{className:e?"".concat(q," ").concat($):q,onClick:function(){return t(!1)},children:(0,N.jsx)("div",{className:e?"".concat(H," ").concat(L):H,onClick:function(s){return s.stopPropagation()},children:(0,N.jsxs)("div",{className:X,children:[(0,N.jsx)("h3",{children:i}),(0,N.jsxs)("div",{className:K,children:[(0,N.jsx)("div",{children:(0,N.jsx)("button",{onClick:function(){a()},children:n})}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{onClick:function(){r()},children:o})})]})]})})})},ss=function(s){var e,t,o=s.profile,n=s.updateStatus,i=s.status,a=s.isOwner,r=s.saveSelectedPhoto,j=s.saveProfile,v=(s.userID,s.users),w=s.unfollow,g=s.follow,S=(0,l.useState)(!1),D=(0,c.Z)(S,2),I=D[0],C=D[1],y=(0,l.useState)(!1),A=(0,c.Z)(y,2),Z=A[0],M=A[1],G=null===(e=v.find((function(s){return s.id===o.userId})))||void 0===e?void 0:e.followed;if(!o)return(0,N.jsx)(x.p,{});var O=function(s){M(s)};return(0,N.jsxs)("div",{className:u,children:[(0,N.jsx)("div",{className:d,children:(0,N.jsxs)("div",{className:f,children:[(0,N.jsx)("img",{src:null!==(t=o.photos)&&void 0!==t&&t.large?o.photos.large:k,alt:"avatar"}),(0,N.jsx)("div",{className:h,children:"online"}),a&&(0,N.jsx)("input",{id:"upload",type:"file",accept:"image/*",onChange:function(s){s.target.files&&s.target.files.length&&r(s.target.files[0])}}),!a&&(0,N.jsxs)("div",{className:G?p:"".concat(p," ").concat(_),onClick:function(){return O(!0)},children:[G?(0,N.jsx)(P.G,{icon:F.kRQ}):(0,N.jsx)(P.G,{icon:F.am0}),G?"following":"unfollowing"]}),(0,N.jsx)(b,{status:i,updateStatus:n,isOwner:a})]})}),(0,N.jsx)("div",{className:m,children:I?(0,N.jsx)(Y,{onSubmit:function(s){j(s)},initialValues:o}):(0,N.jsx)(U,{profile:o,isOwner:a,setEditMode:function(){return C(!0)}})}),Z&&(0,N.jsx)(Q,{active:Z,setActive:O,question:"Do you want to ".concat(G?"unfollow":"follow"," ").concat(o.fullName,"?"),answerAgree:"YES, I want",answerReject:"No, thanks",agree:function(){G?(o.userId&&w(o.userId),M(!1)):(o.userId&&g(o.userId),M(!1))},reject:function(){M(!1)}})]})},es=t(4136),ts=t(5987),os="MyPosts_postsBlock__lB-pf",ns="MyPosts_myPostsHeader__Tner+",is="MyPosts_textArea_Button__PXBSb",as="Post_post__wW6-Y",rs="Post_postStyle__RX8XC",ls="Post_avatarOfPost__Y5UhE",cs="Post_likeCount__kwfc5",us=function(s){var e=s.post,t=s.likeCount;return(0,N.jsx)("div",{className:as,children:(0,N.jsxs)("div",{className:ls,children:[(0,N.jsx)("img",{src:"https://static.vecteezy.com/system/resources/previews/004/899/833/large_2x/beautiful-girl-with-blue-hair-avatar-of-woman-for-social-network-vector.jpg"}),(0,N.jsx)("div",{className:rs,children:e}),(0,N.jsxs)("div",{className:cs,children:[(0,N.jsxs)("span",{children:[" ",(0,N.jsx)("img",{src:"https://www.pinclipart.com/picdir/middle/59-595072_heart-instagram-like-icon-png-clipart.png",alt:"likes"})]})," ",t]})]})})},ds=t(3079),fs=["addPost","posts"],hs=(0,ds.D)(30),ps=(0,B.Z)({form:"ProfileAddNewPostFormRedux"})((function(s){return(0,N.jsxs)("form",{className:is,onSubmit:s.handleSubmit,children:[(0,N.jsx)("div",{children:(0,N.jsx)(z.Z,{component:T.g,name:"newPostText",placeholder:"What's new?",validate:[ds.C,hs]})}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{children:"Add post"})})]})})),_s=t(8687),ms=(0,_s.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(e){s((0,es.Pi)(e))}}}))((function(s){var e=s.addPost,t=s.posts,o=((0,ts.Z)(s,fs),t.map((function(s,e){return(0,N.jsx)(us,{id:s.id,post:s.post,likeCount:s.likeCount},e)})));return(0,N.jsxs)("div",{className:os,children:[(0,N.jsx)("h3",{className:ns,children:"Posts"}),(0,N.jsx)(ps,{onSubmit:function(s){e(s.newPostText)}}),o]})})),xs="Profile_profile__VHbzQ",js=function(s){var e=s.userID,t=s.profile,o=s.status,n=s.updateStatus,i=s.isOwner,a=s.saveSelectedPhoto,r=s.saveProfile,l=s.users,c=s.unfollow,u=s.follow;return(0,N.jsxs)("div",{className:xs,children:[(0,N.jsx)(ss,{profile:t,status:o,updateStatus:n,isOwner:i,saveSelectedPhoto:a,saveProfile:r,userID:e,users:l,unfollow:c,follow:u}),(0,N.jsx)(ms,{})]})},vs=t(9271),ws=t(2932),Ps=t(7781),gs=t(6342),Ns=function(s){(0,a.Z)(t,s);var e=(0,r.Z)(t);function t(){var s;(0,n.Z)(this,t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(s=e.call.apply(e,[this].concat(i))).follow=function(e){s.props.follow(e),console.log("".concat(e," will be followed"))},s.unfollow=function(e){s.props.unfollow(e),console.log("".concat(e," will be unfollowed"))},s}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userID;s||(s=this.props.authorizedUserID)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userID!==s.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return(0,N.jsx)(js,(0,o.Z)((0,o.Z)({},this.props),{},{userID:this.props.authorizedUserID,isOwner:!this.props.match.params.userID,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,saveSelectedPhoto:this.props.saveSelectedPhoto,users:this.props.users,unfollow:this.unfollow,follow:this.follow}))}}]),t}(l.Component),bs=(0,Ps.qC)((0,_s.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,isAuth:s.auth.isAuth,authorizedUserID:s.auth.id,users:s.usersPage.users}}),{getUserProfile:es.d$,getUserStatus:es.GP,updateStatus:es.OG,saveSelectedPhoto:es.CR,saveProfile:es.Ms,follow:gs.iR,unfollow:gs.Ky}),vs.EN,ws.D)(Ns)},2932:function(s,e,t){t.d(e,{D:function(){return u}});var o=t(8683),n=t(5987),i=(t(2791),t(9271)),a=t(8687),r=t(184),l=["isAuth"],c=function(s){return{isAuth:s.auth.isAuth}};function u(s){return(0,a.$j)(c)((function(e){var t=e.isAuth,a=(0,n.Z)(e,l);return t?(0,r.jsx)(s,(0,o.Z)({},a)):(0,r.jsx)(i.l_,{to:"/login"})}))}},1605:function(s,e,t){s.exports=t.p+"static/media/avatar_default.2ca07d6b63661cd127d5.webp"}}]);
//# sourceMappingURL=218.67c57c39.chunk.js.map